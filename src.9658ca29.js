(function () {window.addEventListener("load",function(){var e,t,i=document.getElementById("game_canvas"),n=i.getContext("2d"),o=i.width/2,d=i.height-i.height/4,a=10,l=2,h=-2,r=0,c=255,g=0,s=85,m=10,u=80,y=i.width/2-u/2,f=i.height-m,w=7,k=0;document.addEventListener("keydown",function(i){39==i.keyCode?e=!0:37==i.keyCode&&(t=!0)},!1),document.addEventListener("keyup",function(i){39==i.keyCode?e=!1:37==i.keyCode&&(t=!1)},!1),requestAnimationFrame(function P(){n.clearRect(0,0,i.width,i.height),o+l>i.width-a||o+l<a?l=-l:d+h<a?h=-h:d+h>i.height&&alert("Game Over!",location.reload()),e&&y+u<i.width?y+=w:t&&y>0&&(y-=w),o+l>y&&o+l<y+u&&d+h>f-a&&(k++,h=-h,h-=.5,l>0?l+=.5:l-=.5,0===r&&255===c&&g<255?g+=s:0===r&&c<=255&&c>0&&255===g?c-=s:r<255&&0===c&&255===g?r+=s:255===r&&0===c&&g<=255&&g>0?g-=s:255===r&&0===c&&0===g&&(r=0,c=0,g=0,h-=1.5,l+=1.5),console.log("rgb("+r+","+c+","+g+")"),console.log("dx: "+l+", dy: "+h)),n.beginPath(),n.arc(o,d,a,0,2*Math.PI),n.fillStyle="rgb("+r+","+c+","+g+")",n.fill(),n.closePath(),n.beginPath(),n.rect(y,f,u,m),n.fillStyle="red",n.fill(),n.closePath(),n.beginPath(),n.font="150px Arial",n.textAlign="center",n.strokeText(k.toString(),i.width/2,i.height/2),n.closePath(),o+=l,d+=h,requestAnimationFrame(P)})});})();