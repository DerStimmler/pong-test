(function () {window.addEventListener("load",function(){var e,t,n,i=document.getElementById("game_canvas"),d=i.getContext("2d"),o=i.width/2,a=i.height-i.height/4,r=10,l=10,c=-10,s=0,h=255,g=0,u=85,m=10,f=80,v=i.width/2-f/2,p=i.height-m-30,L=7,w="red",y=!1,E=0,C=!1,b=[],k=-1;function x(){C=!0,b.push(E),E>k&&(k=E),function(){console.log("-----------------");var e=b.length,t=document.getElementById("score_board_table");t.innerHTML="";for(var n=0;n<Math.ceil(b.length/10);n++){var i=document.createElement("td");i.setAttribute("id",n),n>0&&i.classList.add("border_left"),t.appendChild(i)}b.reverse();for(var d=0;d<b.length;d++){var o=document.createElement("tr"),a=document.createElement("td");a.classList.add("tries"),a.innerHTML=e+": ",o.appendChild(a);var r=document.createElement("td");r.classList.add("score"),r.innerHTML=b[d],b[d]==k&&o.classList.add("highscore"),o.appendChild(r),console.log("Spalten ID: "+10*parseInt(d/10,10)/10),document.getElementById(10*parseInt(d/10,10)/10).appendChild(o),e--}b.reverse()}(),E="Game Over",I(),o=i.width/2,a=i.height-i.height/4,l=0,c=0,s=0,h=255,g=0,v=i.width/2-f/2,p=i.height-m-30,setTimeout(function(){E=0,l=10,c=-10,C=!1},30)}function I(){d.beginPath(),d.font=!0===C?"100px Arial":"150px Arial",d.textAlign="center",d.strokeText(E.toString(),i.width/2,i.height/2),d.closePath()}document.addEventListener("keydown",function(n){39==n.keyCode?e=!0:37==n.keyCode&&(t=!0)},!1),document.addEventListener("keyup",function(n){39==n.keyCode?e=!1:37==n.keyCode&&(t=!1)},!1),i.addEventListener("mousemove",function(e){n=function(e,t){var n=e.getBoundingClientRect();return t.clientX-n.left}(i,e),console.log(n)},!1),i.addEventListener("click",function(){!1===y?(y=!0,i.classList.add("mouseMode")):(y=!1,i.classList.remove("mouseMode"))}),requestAnimationFrame(function C(){d.clearRect(0,0,i.width,i.height),o+l>i.width-r||o+l<r?l=-l:a+c<r?c=-c:a+c>i.height&&(a=-20,o=-20,x()),e&&v+f<i.width?v+=L:t&&v>0&&(v-=L),!0===y&&(n<f/2||n>i.width-f/2||(v=n-f/2)),o+l>v&&o+l<v+f&&a+c>p-r&&(E++,c=-c,c-=.5,l>0?l+=.5:l-=.5,0===s&&255===h&&g<255?g+=u:0===s&&h<=255&&h>0&&255===g?h-=u:s<255&&0===h&&255===g?s+=u:255===s&&0===h&&g<=255&&g>0?g-=u:255===s&&0===h&&0===g&&(s=0,h=0,g=0,c-=1.5,l+=1.5),console.log("rgb("+s+","+h+","+g+")"),console.log("dx: "+l+", dy: "+c)),d.beginPath(),d.arc(o,a,r,0,2*Math.PI),d.fillStyle="rgb("+s+","+h+","+g+")",d.fill(),d.closePath(),d.beginPath(),d.rect(v,p,f,m),d.fillStyle=w,d.fill(),d.closePath(),I(),o+=l,a+=c,requestAnimationFrame(C)})});})();